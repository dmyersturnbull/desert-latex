
\part{Documentation}

\chapter{Basic information}

\NewExpandableDocumentCommand \desert {} {desert}
\NewExpandableDocumentCommand \Desert {} {Desert}

\def \sep {{}\thinspace}\thinspace}
\def \ltb {\textbf{<}}
\def \gtb {\textbf{>}}

\begin{BigPages} [hmargin=0.5cm, vmargin=1cm]

\section{What desert does}

\Desert
loads only solid modern packages;
provides key--value options with a uniform interface, irrespective of which packages are needed in backend;
coordinates language- and locale-aware behavior;
provides consistent key--value commands and environments like \code{Quoting}, \code{Chapter},
\code{Caption}, and \code{MultiPanelFigure};
patches a few things;
and adds some miscellaneous commands like \macro{fullref} and \macro{doix};
It supports nomenclature, abbreviations, indices, footnotes, endnotes, float lists,
theorem-like environments, figures, subfigures, tables.
Optionally supports chemical diagrams, source code, etc.

\section{Packages}

Bold packages are directly useful for package authors.

\begin{itemize}
    \item glue: Rubber-preserving length/glue calculations
    \item \textbf{info}: Store info (like authors),
          print it with flexible key--value options (like \code{sep=}),
          and automatically save data to \ac{XMP} PDF metadata.
    \item \textbf{noms}: Supports \ctan{nomencl} by providing term grouping, etc.
    \item \textbf{pidgin}: Coordinates different types of language-awareness via \ctan{babel},
          \ctan{translations}, \ctan{tracklang}, \ctan{iflang}, \ctan{biblatex}, and \ctan{cleveref}.
          Provides commands to set language-aware strings.
    \item \textbf{semantic}: Provides semantic elements like \macro{foreign} and \macro{doi}.
          Also provides \macro{link} as convenient substitute for \macro{href}.
    \item tarmac: Loads and seriously patches \ctan{setspace}, and provides a \macro{Tarmac} macro
          to configure common document structure. Makes setspace macros behave consistently.
    \item \textbf{textiles}: Save and use text styles (`textiles') like \code{bold;sans;uppercase}.
          More sophisticated than first appearances suggest.
\end{itemize}

\section{Category codes}

\Desert sets the catcodes of \code{\^} and \code{\_} to 12, making them inactive in text mode.

Note:
In \code{desert.cls}, \code{pidgin.sty}, etc., \emph{Expl3 syntax} is used.
In these files, \code{\@}, \code{\_}, and \code{:} have cat code 12, used in macro names.
Spaces are ignored, and \code{\~} is used for a space.
Outside of Expl3 mode, \code{\~} is instead used for a non-breaking space.
This means you cannot copy code from one of these files to a \code{.tex} file
without changing it or wrapping it in \macro{ExplSyntaxOn} \ldots \macro{ExplSyntaxOff}.

\section{Conventions}

\begin{itemize}[long]
    \item Configuration commands, and those that take key--value syntax, use CamelCase.
          Acronyms inside the names are treated as regular words. E.g. \macro{StartNsaTracking}.
    \item Environments, at least those whose use is encouraged, are in \textit{CamelCase}.
          Aliases were sometimes made for this purpose; e.g. \env{Enumerate}
          (\code{enumerate} is fine too).
    \item Commands that just show text are normally lowercase. They may have Capitalized or CamelCase
          variants intended for use at the start of a sentence.
          Examples: use either \macro{\indx} or \macro{\Indx}; \macro{getinfo} or \macro{GetInfo}; or
          \macro{infolist} or \macro{InfoList}.
          Packages \ctan{datetime2} and \ctan{cryptocode} have slightly different conventions, which are kept.
          Datetime2 uses \code{DTM<lowercase>} or \code{DTM<camelcase>}.
          Cryptocode uses lowercase for all of its environments; aliases are not provided.
    \item Names of colors, textiles, etc. are all lowercase. Spaces are omitted except for \textsc{xkcd} color names.
    \item \term{glue} refers to spacing, usually with \textit{stretch} and \textit{shrink} components.
          Refer to \link{https://www.overleaf.com/learn/latex/Articles/How\_TeX\_Calculates\_Glue\_Settings\_in\_an\_\%5Chbox}[Overleaf's glue article]. (In \desert's options, \term{glue} includes rigid lengths.)
\end{itemize}

\section{Limitations}

\begin{itemize}[long]
    \item \code{draft} and the language (e.g. \code{USenglish}) are not documentclass-level options,
          so packages that look for them won't find them. The language is provided to Babel
          and directly to \ctan{cleveref} and optionally to \ctan{varioref}, which is sufficient.
          Other packages that rely on the documentclass option will need workarounds.
          \ctan{cryptocode} relies on the global \code{draft} option and will not pick up on
          \desert's own \code{draft=true}.
    \item Many \desert \code{sty / } options are \textit{nullary} only. This means you may not pass in commands that
          modify the text, such as \code{txtuppercase} or \code{uppertosmallcaps}.
          (The same goes for \code{MakeTextLowercase}, which is discouraged anyway.)
    \item Widths \code{rule / mid} and \code{rule / top} cannot be used directly in tabularray's inner option.
          Instead, pass, e.g. \code{hline{Z} = 0.08ex} directly.
    \item \term{New}, \term{Provide}, \term{Declare}, and \term{Renew} have specific meanings defined by \ctan{xparse}.
          Also, \term{Put} will replace data to a list or mapping.
\end{itemize}

\begin{itemize}
    \item \link{https://www.overleaf.com/learn}[Overleaf's documentation]
    \item \link{https://www.overleaf.com/learn/latex/Articles}[in-depth LaTeX guides]
    \item \link{https://tex.stackexchange.com/}[StackExchange TeX]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/tabularray/tabularray.pdf}[tabularray]
    \item \link{https://mirrors.ctan.org/macros/latex/required/graphics/grfguide.pdf}[graphicx]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/siunitx/siunitx.pdf}[siunitx] to properly and consistently typeset quantities, ranges, etc.
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/acro/acro-manual.pdf} for all abbreviation needs
    \item \link{https://mirrors.ctan.org/macros/unicodetex/latex/fontspec/fontspec.pdf}[fontspec] for configuring non-mathematical fonts
    \item \link{https://mirrors.ctan.org/macros/unicodetex/latex/unicode-math/unicode-math.pdf}[unicode-math] for mathematical fonts
    \item \link{https://mirrors.ctan.org/macros/unicodetex/latex/unicode-math/unimath-symbols.pdf}[list of math symbols]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/newfloat/newfloat.pdf} to declare environments like figures, tables, etc.
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/caption/caption.pdf}[caption]
          and \link{https://mirrors.ctan.org/macros/latex/contrib/caption/subcaption.pdf}[subcaption] for captions and subfigures
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/cleveref/cleveref.pdf}[cleveref]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/enumitem/enumitem.pdf}[enumitem]
    \item \link{https://mirrors.ctan.org/macros/latex/required/amsmath/amsldoc.pdf}[amsmath] for math environments (ignore fonts)
    \item \link{http://mirrors.ctan.org/macros/latex/contrib/mathtools/mathtools.pdf}[mathtools]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/thmtools/doc/thmtools-manual.pdf}[thmtools]
          and \link{https://mirrors.ctan.org/macros/latex/contrib/mathtools/mathtools.pdf}[mathtools] to understand theorem-like environments
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/cryptocode/cryptocode.pdf} for formal algorithms, etc.
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/minted/minted.pdf}[minted] for syntax highlighting
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/csvsimple/csvsimple-l3.pdf}[csvsimple-l3] to load tables from CSV
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/chemmacros/chemmacros-manual.pdf}[chemmacros],
          \link{https://mirrors.ctan.org/macros/latex/contrib/chemformula/chemformula-manual.pdf}[chemformula],
          and \link{https://mirrors.ctan.org/macros/generic/chemfig/chemfig-en.pdf}[chemfig]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/l3packages/xparse.pdf}[xparse]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/l3kernel/expl3.pdf}[L3 overview]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/l3kernel/l3styleguide.pdf}[L3 style guide]
    \item \link{https://mirrors.ctan.org/macros/latex/contrib/l3kernel/interface3.pdf}[L3 documentation]
\end{itemize}



\chapter{Class options and config}


\begin{LongTable} [
    theme                  = longfoot,
    caption                = {Desert key--value options},
    entry                  = {Package key--value options},
    label                  = {options},
    note{a}                = {
        \codeopts{level,none,part,chapter} \sep
        \codeopts{section,subsection,subsubsection} \sep
        \codeopts{paragraph,subparagraph}
    } ,
    note{b}                = {
        \code{numbering} can be \codeopts{alph,Alph,arabic,roman,Roman}.
    } ,
    note{c}                = {
        Header and footer are processed specially...
    } ,
    remark{Categories}     = {
        \code{pkg}: Packages/features;\\
        \code{bib}: References/bibliography;\\
        \code{color}: Named colors (e.g. \term{xkcd sky blue});\\
        \code{cref}: Cleveref options;\\
        \code{font}: Font size and baseline\\
        \code{header}: Page header (left/center/right);\\
        \code{footer}: Page footer (left/center/right);\\
        \code{layout}: Page and document layout;\\
        \code{stretch}: Line spacing (e.g. \term{1.5});\\
        \code{num}: Numbering of elements;\\
        \code{sty}: Textiles styles, semicolon-separated;\\
        \code{typo}: Miscellaneous typography;\\
        \code{glue>}: Right-padding;\\
        \code{glue<}: Left-padding;\\
        \code{glue'}: Top-padding;\\
        \code{glue.}: Bottom-padding;\\
        \code{glue:}: Vertical padding between;\\
        \code{glue-}: Horizontal padding between;\\
        \code{glue+}: Padding in all directions;\\
        \code{art}: Background colors, etc.;\\
        \code{rule}: Table rule thickness\\
    } ,
    remark{Abbreviations}  = {
        \term{nom}: Nomenclature;  \\
        \term{toc}: Table of contents;  \\
        \term{bib}: Bibliography;  \\
        \term{pkg}: Package;  \\
        \term{CSV}: comma-separated value list;  \\
        \term{fnote}: Footnote;  \\
        \term{eqn} / \term{thm} / \term{def} / \term{alg} / \term{rem}:
                   Equation/theorem/definition/algorithm/remark;  \\
        \term{fig}: Figure;  \\
        \term{chap} / \term{subsec} / \term{subsubsec}:
                    Chapter/subsection/subsubsection;  \\
    }
]{
    rowhead              = {1} ,
    row{1}               = { font=\bfseries } ,
    font                 = \small ,
    hline{1,Z}           = 0.08ex,
    hline{2}             = 0.06ex,
    cell{2-999}{1}       = {font=\ttfamily} ,
    row{even}            = {bg=evenrow} ,
    verb ,
}
name & value-type & description  \\
draft & bool & Disable some things, like \ctan{microtype} \\
lang / main & Babel name & ...  \\
lang / extras & Babel INI names & ...  \\
mode & \codeopts{thesis,article,book} &   \\
preset & {
           \codeopts{UCSF,Stanford,Cambridge,CMU} \\
           or \codeopts{AFour,LetterPaper}
         }  &  Only sets basic options \\
pkg / \ctan{svg} & opts & \macro{includesvg} command  \\
pkg / \ctan{kantlipsum} & opts & \macro{ikant} command \\
pkg / \ctan{chemformula} & opts &   \\
pkg / \ctan{chemmacros} & opts &    \\
pkg / \ctan{chemfig} & opts & Chemical diagrams  \\
pkg / \ctan{tikz-cd} & opts & Commutative diagrams  \\
pkg / \ctan{cryptocode} & opts &  Lots of things \\
pkg / \ctan{imakeidx} & opts & Make an index  \\
pkg / \ctan{knowledge} & opts & Hyperlinks to topics, etc.  \\
pkg / \ctan{fontawesome5} & opts & \link{https://fontawesome.com/}[fontawesome]  \\
pkg / noms & - & Nomenclature via \ctan{nomencl}  \\
pkg / \ctan{tikz} & opts & Tikz and some libraries \\
pkg / graphs &  & Tikz graph-drawing \\
pkg / \ctan{lettrine} & opts &  Big first letter via \macro{lettrine} \\
pkg / \ctan{minted} & opts &  Source code highlighting \\
pkg / \ctan{tcolorbox} & opts & Styled boxes and \ctan{fontawesome5} \\
pkg / \ctan{ulem} & opts & Underline, strikethrough, etc.  \\
pkg / \ctan{varioref} & opts & e.g. ``on the previous page"  \\
bib / hide-lang & bool & Hide e.g. \textit{en.} in references  \\
bib / per-chap & bool & Show bibliography per chapter  \\
bib / style & BibLaTeX style & e.g. \code{numeric}, \code{authoryear}, \code{MLA}  \\
color / cite & color & Passed to hyperref  \\
color / file & color &   \\
color / ref & color &   \\
color / url & color &   \\
\ctan{cref} / abbrev & bool & Pass \code{noabbrev} to cleveref if false  \\
cref / capitalize & bool & Pass \code{capitalize} to cleveref  \\
font / serif & \codeopts{LatinModern, STIX, SourcePro, NOTO} & preselected font setup (or use \macro{setmainfont}) \\
font / sans & \codeopts{LatinModern, SourcePro, NOTO} & preselected font setup (or use \macro{setsansfont}) \\
font / math & \codeopts{LatinModern, STIX} & preselected font setup (or use \macro{setmathfont}) \\
font / mono & \codeopts{LatinModern, SourcePro, NOTO/sans, NOTO/serif} & preselected font setup (or use \macro{setmonofont}) \\
font / size & float & E.g. \code{12pt}  \\
font / leading & float & Space between baselines (e.g. \code{13pt})  \\
header / [\codeopts{L,LE,LO,R,RE,RO,C,CE,CO}]         & any & \TblrNote{c}  \\
header / front / [\codeopts{L,LE,LO,R,RE,RO,C,CE,CO}] & any &   \\
header / main / [\codeopts{L,LE,LO,R,RE,RO,C,CE,CO}] & any &   \\
header / back / [\codeopts{L,LE,LO,R,RE,RO,C,CE,CO}] & any &   \\
footer / [\codeopts{L,LE,LO,R,RE,RO,C,CE,CO}]         & any &   \\
footer / front / [\codeopts{L,LE,LO,R,RE,RO,C,CE,CO}] & any &   \\
footer / main / [\codeopts{L,LE,LO,R,RE,RO,C,CE,CO}] & any &   \\
footer / back / [\codeopts{L,LE,LO,R,RE,RO,C,CE,CO}] & any &   \\
layout / \ctan{geometry} & prop &  Options passed to \macro{geometry} \\
layout / index-cols & int & Number of columns in index  \\
layout / index-col-sep & h-dim & Space between columns in index  \\
layout / fnotes-to-endnotes & bool & Converts footnotes to endnotes  \\
layout / endnote-backrefs & bool &   \\
layout / show-toc-like-links & bool &   \\
layout / show-nom-links & bool &   \\
layout / fnote-align & \codeopts{justify,left,right,center} &   \\
layout / fnote-placement & {
                             \codeopts{default,abovefloats} \sep \\
                             \codeopts{belowfloats,bottom} \sep \\
                             \codeopts{bottomfloats,bottomfootnotes}
                           } &   \\
stretch / main & float &   \\
stretch / caption & float &   \\
stretch / eqn & float &   \\
stretch / toc & float &   \\
stretch / list-of & float &   \\
stretch / abbrevs & float &   \\
stretch / nom & float &   \\
stretch / source-code & float &   \\
num / depth & level \TblrNote{a} &   \\
num / back-pages & numbering \TblrNote{b} &   \\
num / front-chaps & numbering &   \\
num / main-chaps & numbering &   \\
num / back-chaps & numbering &   \\
num / fig-panels & numbering &   \\
num / eqn-brackets & {
                       \codeopts{none,round} \sep \\
                       \codeopts{square,curly} \sep \\
                       \codeopts{none-bold,round-bold} \sep \\
                       \codeopts{curly-bold,curly-bold}
                     } &   \\
num / eqn-in & level &   \\
num / float-in & level &   \\
num / fnote-in & \codeopts{none,page,chapter} &   \\
num / fnotes & {
                 \codeopts{alph,Alph,arabic} \sep \\
                 \codeopts{roman,Roman,lamport} \sep \\
                 \codeopts{lamport*,bringhurst} \sep \\
                 \codeopts{chicago,wiley}
               } &   \\
num / front-pages & numbering &   \\
num / main-pages & numbering &   \\
num / thm-like-in & level &  \ctan{thmtools} numbering within \\
sty / abstract-by & unary &   \\
sty / abstract-authors & unary &   \\
sty / abstract-title & unary &   \\
sty / caption-body & unary &   \\
sty / caption-label & unary &   \\
sty / subcaption-body & unary &   \\
sty / subcaption-label & unary &   \\
sty / subref & unary &   \\
sty / table-head-body & nullary &   \\
sty / table-head-label & nullary &   \\
sty / table-footer & nullary &   \\
sty / box-label & nullary & \code{DezBox} env name, like `note'  \\
sty / box-name & nullary & Optional title (e.g. after `note')  \\
sty / chap-label & nullary &   \\
sty / chap-name & nullary &   \\
sty / front-chap-title & nullary &   \\
sty / part-label & nullary &   \\
sty / part-name & nullary &   \\
sty / chemical-diagram & nullary &   \\
sty / fnote-body & nullary &   \\
sty / foreign-words & unary &   \\
sty / indx-starred & unary &   \\
sty / nom-group & unary &   \\
sty / section-title & nullary &   \\
sty / source-code & nullary &   \\
sty / subsec-title & nullary &   \\
sty / subsubsec-title & nullary &   \\
sty / paragraph-title & nullary &   \\
sty / toc-part & nullary &   \\
sty / toc-chap & nullary &   \\
sty / toc-section & nullary &   \\
sty / toc-subsec & nullary &   \\
sty / toc-subsubsec & nullary &   \\
sty / toc-page-number & nullary &  \\
toc / depth & level &  \\
toc / bib & bool & Show bibliographies in TOC  \\
toc / index & bool & Show the index in TOC   \\
toc / endnotes & bool & Show endnote lists in TOC   \\
toc / fig-panels & bool &  Show figure panels (e.g. \term{1A}) in TOC  \\
typo / ban-hyphens & bool &  Sets hyphenation penalty to inf \\
typo / display-quote-lines & int & Threshold to switch to display \\
typo / caption-label-sep & any & Text after caption label (e.g. \code{: })  \\
typo / subref-label-sep & any & Text after \macro{subref} \\
typo / subref-format & \codeopts{simple,parens} &   \\
typo / caption-table-note-sep & any &   \\
typo / caption-table-rem-sep & any &   \\
glue< / indent & h-dim & Paragraph indent (usually \code{1em})  \\
glue< / nom-text & h-dim & Pad between symbol and text  \\
glue< / toc-part & h-dim &  Left-padding for \term{part} in TOC \\
glue< / toc-chap & h-dim &   \\
glue< / toc-section & h-dim &   \\
glue< / toc-subsec & h-dim &   \\
glue< / toc-subsubsec & h-dim &   \\
glue< / thm-title & h-dim &   \\
glue< / def-title & h-dim &   \\
glue< / rem-title & h-dim &  \\
glue: / paragraphs & v-glue & Vertical glue between paragraphs  \\
glue: / items & v-glue & Vertical glue between \macro{item}  \\
glue: / long-items & v-glue & Applies to style \code{long}  \\
glue: / fnotes & v-glue & Vertical glue between footnotes  \\
glue: / refs & v-glue &   \\
glue' / fnote-list & v-glue & Glue above the footnote list  \\
glue. / fnote-list & v-glue & Only if floats are below  \\
glue' / caption & v-glue &   \\
glue' / subcaption & v-glue &   \\
glue' / table-title & v-glue & Space above table caption  \\
glue. / table-title & v-glue &   \\
glue' / table-footer & v-glue &   \\
glue. / table-footer & v-glue &   \\
glue' / front-chap & v-glue & Unimportant if \macro{chapter} starts a page  \\
glue. / front-chap & v-glue &   \\
glue' / chap & v-glue & Unimportant if \macro{chapter} starts a page \\
glue. / chap & v-glue &   \\
glue. / chap-label & v-glue &  V-space between label and name \\
glue. / part-label & v-glue & For \macro{part}  \\
glue' / section & v-glue &   \\
glue. / section & v-glue &   \\
glue' / subsec & v-glue &   \\
glue. / subsec & v-glue &   \\
glue' / subsubsec & v-glue &   \\
glue. / subsubsec & v-glue &   \\
glue' / nom-group & v-glue & \\
glue' / paragraph & v-glue & Above \macro{paragraph}  \\
glue' / thm-like & v-glue &   \\
glue. / thm-like & v-glue &   \\
glue' / alg-like & v-glue &   \\
glue. / alg-like & v-glue &   \\
glue' / def-like & v-glue &   \\
glue. / def-like & v-glue &   \\
glue' / rem-like & v-glue &   \\
glue. / rem-like & v-glue &   \\
glue' / proof & v-glue &   \\
glue. / proof & v-glue &   \\
glue' / eqn & v-glue & \macro{abovedisplayskip}  \\
glue. / eqn & v-glue & \macro{belowdisplayskip}  \\
glue' / eqn-short & v-glue & \macro{abovedisplayshortskip} \\
glue. / eqn-short & v-glue & \macro{belowdisplayshortskip}  \\
glue' / list & v-glue & For default lists  \\
glue' / long-list & v-glue & \code{long} lists  \\
glue. / abstract-title & v-glue &   \\
glue' / abstract-authors & v-glue &   \\
glue' / abstract-body & v-glue &   \\
glue' / toc-part & v-glue &   \\
glue' / toc-chapter & v-glue &   \\
glue' / toc-section & v-glue &   \\
glue' / toc-subsec & v-glue &   \\
glue' / toc-subsubsec & v-glue &   \\
art / code-box-border & dim & if \code{tcolorbox} is used \\
art / code-box-arc & dim & angle (curve of box edge) \\
art / code-box-bg & color & background color of code box \\
art / even-row-bg & color & named color \code{evenrow} \\
rule / top & v-dim  & thickness of \macro{toprule} and \macro{bottomrule} \\
rule / mid & v-dim & thickness of \macro{midrule} \\
rule / cmid & v-dim & thickness of \macro{cmidrule} \\
rule / header & v-dim & line above page header \\
rule / footer & v-dim & line above page footer \\
\end{LongTable}



Packages not to load:

\begin{itemize}
\item \textbf{bibtex or natbib} (use \ctan{biblatex} and \ctan{biber})
\item \textbf{any font package} (use \ctan{fontspec})
\item \textbf{amsfonts} (use \ctan{fontspec} and \ctan{unicode-math})
\item \textbf{ntheorem} (use \ctan{amsthm} and \ctan{thmtools})
\item \textbf{tabularx, longtable, threepartable, etc.} (use \ctan{tabularray})
\item polyglossia (use \ctan{babel})
\item titletoc (use \ctan{titlesec})
\item subref, subfigure, or subfig (use \ctan{subcaption})
\item makeindex or other index packages (use \ctan{imakeidx} via \code{pkg / imakeidx})
\item appendix (use Desert's environment instead)
\item authblk (use Info's \code{getinfo}, \code{getinfolist}, etc. instead)
\item datetime (use \ctan{datetime2})
\item glossary, acronym, or glossaries (use \ctan{acro})
\item wrapfig (use \ctan{wrapfig2})
\end{itemize}



\begin{LongTable} [
    theme                    = longfoot ,
    caption                  = {Packages loaded by Desert} ,
    entry                    = {Packages loaded by Desert} ,
    label                    = {packages} ,
]{
    rowhead                  = {1} ,
    row{1}                   = { font=\bfseries } ,
    font                     = \small ,
    hline{1,Z}               = 0.08ex,
    hline{2}                 = 0.06ex,
    cell{2-999}{1,2}         = {font=\ttfamily} ,
    row{even}                = {bg=evenrow} ,
    verb ,
}
name                        & options              & purpose                      \\
pidgin                      &                      & language                     \\
\ctan{babel}                & <langs>              & language                     \\
\ctan{translations}         &                      &                              \\
\ctan{tracklang}            &                      &                              \\
\ctan{fancyvrb}             &                      & better \macro{verb}          \\
\ctan{ragged2e}             & newcommands          & full ragged envs             \\
\ctan{newfloat}             &                      & declare float envs           \\
\ctan{geometry}             &                      & \macro{geometry}             \\
\ctan{adjustbox}            &                      & resize boxes                 \\
\ctan{perpage}              &                      & reset counter per page       \\
\ctan{datetime2}            &                      & format dates                 \\
\ctan{imakeidx}             & xindy                & index (before knowledge)     \\
\ctan{hyperxmp}             &                      & XMP metadata                 \\
\ctan{hyperref}             &                      & (after xindy+geometry)       \\
\ctan{microtype}            & babel=true           &                              \\
\ctan{setspace}             &                      &                              \\
\ctan{xcolor}               &                      &                              \\
\ctan{fontsize}             &                      &                              \\
\ctan{fontspec}             &                      & all font loading             \\
textiles                    & faces                &                              \\
\ctan{unicode-math}         &                      & math fonts, unicode chars    \\
glue                        &                      & rubber-preserving calc       \\
\ctan{mathcommand}          &                      & prime+subscript-aware        \\
info                        &                      & save/format data; set XMP    \\
\ctan{amsthm}               &                      & theorem envs                 \\
\ctan{thmtools}             &                      & \macro{declaretheorem}       \\
\ctan{mathtools}            &                      & declare theorem envs         \\
\ctan{lualatex-math}        &                      & math-related patches         \\
\ctan{uspace}               &                      & Unicode space chars          \\
\ctan{fnpct}                &                      & fnote marks position         \\
\ctan{biblatex}             & backend=biber        & (after: hyperref)            \\
\ctan{accsupp}              &                      & before: acro                 \\
\ctan{acro}                 &                      & for all abbreviations        \\
noms                        &                      & nomencl groups and utils     \\
\ctan{nomencl}              &                      & nomenclature                 \\
\ctan{titlesec}             & explicit             & section formatting           \\
\ctan{titletoc}             &                      & TOC formatting               \\
\ctan{tocloft}              & titles               & do not use                   \\
\ctan{tarmac}               &                      & internal utils               \\
\ctan{fancyhdr}             &                      & footer and header            \\
\ctan{enumitem}             &                      & control spacing for lists    \\
\ctan{footmisc}             &                      & fnote style and counters     \\
\ctan{enotez}               &                      & fixed endnotes               \\
\ctan{lua-widow-control}    &                      & needs Tex Live 2022          \\
\ctan{showframe}            &                      & if draft                     \\
\ctan{caption}              & hypcap=true          & caption setup                \\
\ctan{subcaption}           & hypcap=true          & subcaptions                  \\
\ctan{graphicx}             &                      & \macro{includegraphics}      \\
\ctan{csvsimple-l3}         &                      & tables from CSV files        \\
\ctan{tabularx}             &                      & for special envs only        \\
\ctan{tabularray}           &                      & LaTeX3 tabular and table     \\
                            & babel                &                              \\
                            & amsmath              & \code{+matrix}, etc.         \\
                            & booktabs             & \macro{toprule}, etc.        \\
                            & siunitx              & align decimal point          \\
                            & diagbox              & split top-left cell          \\
                            & varwidth             & paragraphs inside cells      \\
\ctan{fvextra}              &                      & improves fancyvrb            \\
\ctan{lscape}               &                      & \code{landscape} env         \\
\ctan{pdflscape}            &                      & makes \ctan{lscape} rotate in PDF \\
\ctan{csquotes}             &                      & quotation envs               \\
\ctan{ellipsis}             &                      & fix \macro{ldots}            \\
\ctan{semantic}             &                      & academic links, etc.         \\
\ctan{siunitx}              &                      & typeset quantities           \\
\ctan{minted}               & newfloat             & color source code            \\
\ctan{tcolorbox}            & xparse               & frame content                \\
\ctan{cryptocode}           &                      & lots of CS envs              \\
\ctan{chemformula}          &                      &                              \\
\ctan{chemmacros}           &                      &                              \\
\ctan{chemfig}              &                      & chemical diagrams            \\
\ctan{svg}                  &                      & \macro{includesvg}           \\
\ctan{fontawesome5}         &                      &                              \\
\ctan{tikz}                 &                      & diagrams                     \\
\ctan{varioref}             &                      & \macro{vref}                 \\
\ctan{knowledge}            &                      &                              \\
\ctan{cleveref}             &                      & \macro{cref}                 \\
\end{LongTable}



\begin{LongTable} [
    theme                    = longfoot ,
    caption                  = {List of Desert commands} ,
    entry                    = {List of Desert commands} ,
    label                    = {commands} ,
    remark{delimiters}       = {
        Delimiters \code{\{\}}, \code{[]}, \code{<>}, \code{()}, \code{\^\^}, and \code{\$\$} are literal.
        \code{\{\}} arguments are (almost always) required; \code{[]}, \code{<>}, and \code{()} are optional unless in bold.
        \code{\^\^}  and \code{\$\$} wrap macros to be called before (\^\cdot\^) and after (\$\cdot\$).
    } ,
    remark{tokens}           = \code{*}, \code{!}, and \code{+} are optional literal tokens.
                               Eg. \code{\{Chapter\}*}.
    note{a}                  = \code{str=str}: key--value with unrestricted keys. ,
    note{b}                  = \code{str}: any text excluding macros. ,
    note{c}                  = \code{K--V}: Key--value with some number of supported keys. ,
    note{d}                  = \code{url} and \code{doi}: Any \ac{URL} and \ac{DOI} ,
    note{e}                  = \code{file}: A \code{/}-separated path to a file ,
    note{f}                  = \code{str=str/str}: Mapping from name to \term{singular}\code{/}\term{plural};
                               e.g. \code{figurelist = figure / figures} ,
    note{g}                  = \code{env}: Name of an environment ,
    note{h}                  = \code{file,\ldots} Comma-separated list of file paths ,
    note{i}                  = \code{index-key}: A \code{!}-separated index string ,
    note{j}                  = \code{int} and \code{float}: Positive integer and floating-point value ,
    note{k}                  = { \code{label-list}: Comma-separated list of labels and label ranges using \code{- {}\thinspace -}; e.g. \textit{A,B--D,Z} } ,
]{
    rowhead                  = {1} ,
    row{1}                   = { font=\bfseries } ,
    font                     = \small ,
    hline{1,Z}               = 0.08ex,
    hline{2}                 = 0.06ex,
    cell{2-999}{1,2}         = {font=\ttfamily} ,
    row{even}                = {bg=evenrow} ,
    verb ,
}
command                     & options                    & description             \\
SetNomGroups                & \{str=str\}              &                        \\
PutNomGroups                & \{str=str\}              &                        \\
PutDefaultNomGroups         & (str) [str] \{str\} \{str\} <str>                  & \\
NomText                     & (str) [str] \{str\} \{str\} <str>                  &        \\
NomMath                     & (str) [str] \{str\} \{str\} <str>                   &      \\
NomUnit                     & (str) [str] \{str\} \{str\} <str>               &           \\
SetInfo                     & \{str=str\}              &                         \\
PutInfo                     & \{str=str\}              &                         \\
ProvideInfo                 & \{str=str\}              &                         \\
RemoveInfo                  & \{str\}                  &                         \\
NewInfo                     & \{str=str\}              &                         \\
RenewInfo                   & \{str=str\}              &                         \\
AddPdfDictData              &                           & adds non-\ac{XMP} to pdfinfo \\
AddPdfHyperxmpData          &                           & called automatically     \\
getinfo                     & \{str\} [K--V]               &                         \\
GetInfo                     & \{str\} [K--V]               & sentence-case variant   \\
infolist                    & \{str\} [K--V]               &                         \\
InfoList                    & \{str\} [K--V]               & sentence-case variant   \\
InfoInline                  & \{str\} [K--V]             & format inline data  \\
InfoListInline              & \{str,\ldots\} [K--V]        & format inline list data  \\
txtuppercase                & \{any\}                    & smart upper-casing with pidgin \\
txtlowercase                & \{any\}                    & smart lower-casing with pidgin \\
txtsentencecase             & \{any\}                    & smart sentence-casing with pidgin \\
txtsentencecasefirst        & \{any\}                    & smart sentence-casing with pidgin, ignoring rest \\
HideLinks                   &                           & turn link color off \\
ShowLinks                   &                           & turn link color on \\
hidinglinks                 & \{any\}                  & hide link color for arg \\
showinglinks                & \{any\}                  & show link color for arg \\
ShowParSamples              &                           & show current textiles  \\
ShowTextSamples             &                           & shorter version       \\
...                         & ...                        & lots more in textiles \\
code                        & \{any\}                       & normally monospace \\
opts                        & {str,\ldots} [K--V]        & e.g. `\code{1\sep2}' (note: not in semantic) \\
foreign                     & \{any\}                       & normally italic \\
link                        & * \{url\} [str]           & easier \code{href}  \\
ctan                        & * \{pkg\} [str]            & \ac{CTAN} package \\
doi                         & * \{doi\}                  & \ac{DOI} link \\
doix                        & * \{doi\}                  & with icon \\
arxiv                         & * \{doi\}                  & \ac{ArXiV} link \\
arxivx                        & * \{doi\}                  & with icon \\
...                         & ...                        & lots more in semantic \\
Part                        & * [K--V] \{str\}            &                       \\
Chapter                     & * [K--V] \{str\}            &                       \\
Section                     & * [K--V] \{str\}            &                       \\
Subsection                  & * [K--V] \{str\}            &                       \\
Subsubsection               & * [K--V] \{str\}            &                       \\
Paragraph                   & * [K--V] \{str\}            &                       \\
SetBabelStrings             & \{str=str\}               &                         \\
SetCrefStrings              & \{str=str/str\}       &                         \\
SetTranslationStrings       & \{str=str\}               &                         \\
ProvideTranslations         & \{str=\str\}              & for packages; probably not needed \\
SetBiblatexStrings          & \{str=str\}               &                         \\
Aligning                    & \{str\}                   &                        \\
LoadFrontDocs               & \{file,\ldots\}                  & \\
LoadMainDocs                & \{file,\ldots\}                  & \\
LoadBackDocs                & \{file,\ldots\}                  & \\
LoadFrontSubdocs            & \{file,\ldots\}                  & if using \ctan{subfile} \\
LoadMainSubdocs             & \{file,\ldots\}                  & if using \ctan{subfile} \\
LoadBackSubdocs             & \{file,\ldots\}                  & if using \ctan{subfile} \\
StartSubFiles               &                           & loads \ctan{subfiles} \\
LoadBib                     & \{file\}                   & just \macro{addbibresource} \\
LoadTex                     & \{file\}                   & just \macro{input} \\
DeclareDezPageStyle         & \{pagestyle\} \{hdr\} \{ftr\}  &   \\
NewFrontChapter             & \{env\} [K--V]          & make new environment \\
DeclareFrontChapter         & \{env\} [K--V]          & make environment \\
NewAppendix                 & \{env\} [K--V]          & make new environment \\
DeclareAppendix             & \{env\} [K--V]          & make environment \\
NewSpecialChapter           & \{env\} [K--V]          & make new environment \\
DeclareSpecialChapter       & \{env\} [K--V]          & make environment \\
AbstractHeader              &                            &  \\
TitleContents               &                            & title page contents \\
ShowTitle                   &                            & renders title page \\
StartChapter                & [K--V] \{str\}              & alternative to env \\
EndChapter                  &                            &  \\
StartFrontMatter            &                            & normally not needed \\
StartMainMatter             &                            & normally not needed \\
StartBackMatter             &                            & normally not needed \\
ShowBackBib                 &                            & not normally needed \\
ShowFullBib                 &                            & not normally needed \\
ShowSubBib                  &                            & not normally needed \\
ShowEndNotes                &                            & not normally needed \\
ShowIndex                   &                            & \\
NewTheoremEnvs              & [K--V] \{env=str/str\}   & \\
StandardTheoremEnvs         &                            & \\
ShowTableOfContents         &                            & \\
ShowListOfFigures           & + !                        & \\
ShowListOfTables            & + !                        & \\
ShowListOfAbbreviations     & + !                        & \\
ShowNomenclature            & + !                        & \\
ShowListOfTheoremLike       & + ! \{K--V\}                 & \\
ShowListOfSourceCode        & + !                        & \\
ShowListOfReactionSchemes   & + !                        & \\
ShowListOfStructuralFormulas& + !                        & \\
ShowListOfCircuits          & + !                        & \\
indx                        & * \{str\} [index-key]      & \\
Indx                        & * \{str\} [index-key]      & sentence-case variant \\
captioning                  & [K--V] \{str\}             & swap-in for \macro{caption} \\
Caption                     & \{K--V\}                   & K--V-only \macro{captioning} \\
AddOnePanelFigure           & * [K--V]                   & shorthand \\
AddPanel                    & [K--V]                     & for \code{MutliPanelFigure} \\
AddPhantomPanel             & [K--V]                     & for \code{PhantomPanelFigure} \\
describepanels              & \{label-list\} \{str\}      & \\
describepanel               & \{label\} \{str\}           & just \macro{describepanels} restricted to 1 panel\\
panels                      & \{label-list\}              & multiple \macro{subref} \\
LoadTable                   & [K--V] \{K--V\} (K--V) \ltb file\gtb   & \\
LoadTallTable               & [K--V] \{K--V\} (K--V) \ltb file\gtb   & \\
LoadLongTable               & [K--V] \{K--V\} (K--V) \ltb file\gtb   & \\
NewDezBox                   & (color) [K--V] \{env\}               & \\
DeclareDezBox               & (color) [K--V] \{env\}               & \\
DeclareDezFloat             & \{env\} \^macro\^ \$macro\$  & uses \ctan{newfloat} and makes a wrapper env \\
LoadSourceCode              & [K--V] \ltb file \gtb   & loads if minted \\
reffull                     & \{cite-key\}               & full reference text \\
Quote                       & [K--V] \{text\}              & Key--value \ctan{csquotes} \\
reftitle                    & \{cite-key\}                 & \\
refdoi                      & \{cite-key\}                 & \\
refurl                      & \{cite-key\}                 & \\
ikant                       & [int]                        & next \term{n} \ctan{kantlipsum} \\
rkant                       & [int]                        & \term{n}  random \ctan{kantlipsum} \\
SetCounterWithin            & \{counter\} \{counter\}      & \macro{counterwithin} and \macro{counterwithout} combo
KnowledgeSetup              & \{K--V\}                     & \macro{knowledgeconfigure} \\
MicrotypeSetup              & \{K--V\}                     & \macro{microtypesetup} \\
UnimathSetup                & \{K--V\}                     & \macro{unimathsetup} \\
DtmSetup                    & \{K--V\}                     & \macro{DTMsetup} \\
SiSetup                     & \{K--V\}                     & \macro{sisetup} \\
HyperSetup                  & \{K--V\}                     & \macro{hypersetup} \\
AcroSetup                   & \{K--V\}                     & \macro{acsetup} \\
CaptionSetup                & [str] \{K--V\}               & \macro{captionsetup} \\
TikzSetup                   & \{K--V\}                     & \macro{tikzset} \\
CircuitzSetup               & \{K--V\}                     & \macro{ctikzset} \\
MintedSetup                 & \{K--V\}                     & \macro{setminted} \\
GeometrySetup               & \{K--V\}                     & \macro{geometry} \\
ChemformulaSetup            & \{K--V\}                     & \macro{setchemformula} \\
CaptionSetup                & [str] \{K--V\}               & \macro{setlist} \\
ChemSetup                   & \{K--V\}                     & \macro{chemsetup} \\
ChemformulaSetup            & \{K--V\}                     & \macro{setchemformula} \\
ChemfigSetup                & [float] \{K--V\}             & \code{setchemfig} with opt scaling \\
NomsSetup                   & \{K--V\}                     & \\
PidginMainLang              &                              & get main lang name (e.g. USenglish) \\
PidginMainBase              &                              & get main base lang (e.g. english) \\
PidginMainTag               &                              & get main tag (e.g. en-us) \\
\end{LongTable}


\begin{LongTable} [
    theme                    = longfoot ,
    caption                  = {List of Desert environments} ,
    entry                    = {List of Desert environments} ,
    label                    = {environments} ,
]{
    rowhead                  = {1} ,
    row{1}                   = { font=\bfseries } ,
    font                     = \small ,
    hline{1,Z}               = 0.08ex,
    hline{2}                 = 0.06ex,
    cell{2-999}{1}           = {font=\ttfamily} ,
    row{even}                = {bg=evenrow} ,
    verb ,
}
environment                 & options                          & description           \\
FrontChapter                & [K--V] \{str\}                    &                       \\
SpecialChapter              & [K--V] \{str\}                    &                       \\
MainChapter                 & [K--V] \{str\}                    &                       \\
Appendix                    & [K--V] \{str\}                    &                       \\
Appendices                  &                                   & does nothing yet      \\
Proof                       &                                  & alias for \code{proof} (renewed amsmath env)      \\
OnePanelFigure              & * [K--V]                           &                        \\
MultiPanelFigure            & * [K--V]                           &                        \\
PhantomPanelFigure          & * [K--V]                           &                        \\
Table                       & [K--V] \{K--V\}                      & tblr \\
LongTable                   & [K--V] \{K--V\}                      & longtblr \\
TallTable                   & [K--V] \{K--V\}                      & talltblr \\
SourceCode                  & [K--V]                             & \code{MintedCode} uses this \\
MintedCode                  & [K--V]                             & verbatim env \\
StructuralFormula           & [K--V]                             & needs \ctan{chemfig} \\
ReactionScheme              & [K--V]                             & needs \ctan{chemfig} \\
CommutativeDiagram          & [K--V]                             & needs \ctan{tikz-cd} \\
Circuit                     & [K--V]                             & needs \ctan{circuitikz} \\
Where                       &                                    & table of terms inside eq \\
Quotation                   & [K--V]                             & all \ctan{csquotes} rolled into one \\
BigPages                    & [K--V]                             & use full page \\
Align                       & \{str\}                            & \\
Preface                     & [K--V]                             & a \code{FrontChapter} \\
Acknowledgments             & [K--V]                             & a \code{FrontChapter} \\
Contributions               & [K--V]                             & a \code{FrontChapter} \\
Abstract                    & [K--V]                             & a \code{FrontChapter} \\
Epigraph                    & [K--V]                             & a \code{SpecialChapter} \\
Dedication                  & [K--V]                             & a \code{SpecialChapter} \\
Copyright                   & [K--V]                             & a \code{SpecialChapter} \\
Title                       & [K--V]                             & a \code{SpecialChapter} \\
Errata                      & [K--V]                             & an \code{Appendix} \\
\textit{<DezBox>}
       (e.g. \texttt{Hint}) & [K--V]              & \\
\end{LongTable}


\subsection{Hooks}

These must be defined before \macro{documentclass}.

\begin{LongTable} [
    theme                    = shortfoot ,
    caption                  = {List of Desert hooks} ,
    entry                    = {List of Desert hooks} ,
    label                    = {hooks} ,
    
]{
    rowhead                  = {1} ,
    row{1}                   = { font=\bfseries } ,
    font                     = \small ,
    hline{1,Z}               = 0.08ex,
    hline{2}                 = 0.06ex,
    cell{2-999}{1}         = {font=\ttfamily} ,
    row{even}                = {bg=evenrow} ,
    verb ,
}
command                         & description                    \\
\macro{DezPrePackagesHook}      &                                \\
\macro{DezPostPackagesHook}     &                                \\
\macro{DezPreTocLikeHook}       &                                \\
\macro{DezPreMainChapterHook}   &                                \\
\macro{DezPostMainChapterHook}  &                                \\
\macro{DezPreAppendixHook}      &                                \\
\macro{DezPostAppendixHook}     &                                \\
\macro{DezEndHook}              &                                \\
\macro{DezPartPageHook}         & Before \macro{part}; normally \macro{clearpage}     \\
\macro{DezMainChapterPageHook}  & Normally \macro{clearpage} or \macro{cleardoublepage}  \\
\macro{DezChapterPageHook}      & Normally \macro{clearpage} or empty  \\
\end{LongTable}

You can also use \macro{AtEndPreamable}, \macro{AtBeginDocument}, etc.


\subsection{SpecialChapter}

This environment has a square-brackets key--value optional arg, plus an optional curly-brace arg which sets the title and TOC entry, if displayed. The key--value args override the curly-brace arg if both are given.

\begin{LongTable} [
    theme                    = longfoot ,
    caption                  = {Keys to SpecialChapter} ,
    entry                    = {Keys to SpecialChapter} ,
    label                    = {specialchapter} ,
]{
    rowhead                  = {1} ,
    row{1}                   = { font=\bfseries } ,
    font                     = \small ,
    hline{1,Z}               = 0.08ex,
    hline{2}                 = 0.06ex,
    cell{2-999}{1}           = {font=\ttfamily} ,
    row{even}                = {bg=evenrow} ,
    verb ,
}
key                      & type                          & description                             \\
label                    & str                           & \macro{label}                            \\
entry                    & str                           & TOC entry                                \\
title                    & str                           & Title displayed as \macro{chapter}        \\
no-title                 & bool                          & Force-hide title                         \\
no-entry                 & bool                          & Forcibly hide TOC entry                   \\
numberless               & bool                          & Use \macro{chapter*\ instead of \macro{chapter} (default: true)   \\
numbered                 & bool                          & Force \code{numberless=false}        \\
hide-links               & bool                          & Disable link color in body        \\
empty-page-style         & bool                          & \code{pagestyle} to \code{empty}, disabling footer and header \\
width                    & h-dim                         & Width of the environment text        \\
above                    & v-dim                         & Padding from top         \\
below                    & v-dim                         & Padding from bottom         \\
textile                  & textile                       & Named textile for body         \\
style                    & style                         & Inline textile commands (e.g. \code{bold;sans})         \\
align                    & \codeopts{left,center,right,justify}  & Of body         \\
at                       & \codeopts{top,middle,bottom}  & Of body         \\

\end{LongTable}


\end{BigPages}
